<div class="selectionField d-flex flex-jc-center flex-ai-center">
  <label class="mr-8 mb-0">Select Report: </label>
  <div class="field">
    <sui-select [isSearchable]="true" id=reportSelection name=reportSelection class="selection"
      [(ngModel)]="selectedReport" labelField="name" valueField="name" [options]="reports" #select>
      <sui-select-option *ngFor="let report of reports" [value]="report" (click)="onReportChange(report.name)">
      </sui-select-option>
    </sui-select>
  </div>
  <button class="download-btn sb-btn sb-btn-xs sb-btn-link sb-btn-link-primary sb-right-icon-btn"
    (click)="refreshReport()"><i class="refresh icon"></i>Refresh</button>
  <button class="download-btn sb-btn sb-btn-xs sb-btn-link sb-btn-link-primary sb-right-icon-btn"
    (click)="downloadReport()"><i class="download icon"></i>Download Report</button>

</div>


<div *ngIf="selectedReport === 'Question Bank Status' && !showLoader">
  <table class="sb-table sb-table sb-table-hover " id='questionBank'>
    <thead class="sb-table-header heading-large">
      <tr>
        <th rowspan="2" class="topicSection"> Topic Name </th>

        <th colspan="5">
          <span class="ui dropdown sb-table-dropdown d-inline-flex" suiDropdown>
            <div class="text">{{questionTypeName[selectedCategory]}}</div>
            <i class="dropdown icon"></i>
            <div class="menu" suiDropdownMenu>
              <div class="item" *ngFor="let type of questionType" (click)="changeQuestionCategory(type)">
                {{questionTypeName[type]}}</div>
            </div>
          </span>
        </th>
      </tr>

      <tr>
        <th *ngFor="let label of statusLabel" attr.data-tooltip="{{label.tip}}">{{label.name}}</th>
      </tr>

    </thead>
    <tbody class="sb-table-body body-large" >
      <tr *ngFor="let chapter of tableData">
        <td>{{chapter['Topic Name']}}</td>
        <td>{{chapter['Up For Review']}}</td>
        <td>{{chapter.Rejected}}</td>
        <td>{{chapter.Accepted}}</td>
        <td>{{chapter.Published}}</td>
      </tr>
    </tbody>
  </table>
</div>


<div *ngIf="selectedReport === 'Textbook Status' && !showLoader">
  <table class="sb-table sb-table sb-table-hover sb-table-sortable" id='TextbookStatus'>
    <thead class="sb-table-header heading-large">
      <tr>
        <th> Topic Name </th>
        <th attr.data-tooltip="{{headersTooltip[0].tip}}" *ngFor="let type of questionType"> {{questionTypeName[type]}}
        </th>

      </tr>
    </thead>
    <tbody class="sb-table-body body-large" >
      <tr *ngFor="let chapter of tableData">
        <td>{{chapter['Topic Name']}}</td>
        <td>{{chapter[questionTypeName[questionType[0]]] ? 1 : 0}}({{chapter[questionTypeName[questionType[0]]]}})</td>
        <td>{{chapter[questionTypeName[questionType[1]]] ? 1 : 0}}({{chapter[questionTypeName[questionType[1]]]}})</td>
        <td>{{chapter[questionTypeName[questionType[2]]] ? 1 : 0}}({{chapter[questionTypeName[questionType[2]]]}})</td>
        <td>{{chapter[questionTypeName[questionType[3]]] ? 1 : 0}}({{chapter[questionTypeName[questionType[3]]]}})</td>
        <td>{{chapter[questionTypeName[questionType[4]]] ? 1 : 0}}({{chapter[questionTypeName[questionType[4]]]}})</td>
      </tr>
    </tbody>
  </table>
</div>

<div *ngIf="selectedReport === 'Program Level Report Status' && !showLoader">
    <table class="sb-table sb-table sb-table-hover sb-table-sortable" id='ProgramLevelReportStatus'>
      <thead class="sb-table-header heading-large">
        <tr>
          <th> Textbook Name </th>
          <th attr.data-tooltip="{{headersTooltip[0].tip}}" *ngFor="let level of UnitLevels"> {{level}}
          </th>
          <th attr.data-tooltip="{{headersTooltip[0].tip}}" *ngFor="let type of contentTypes"> {{type}}
            </th>
  
        </tr>
      </thead>
      <tbody class="sb-table-body body-large" >
        <tr *ngFor="let count of tableData">
          <td>{{count['Textbook Name']}}</td>
          <td>{{count['L1']}}</td>
          <td>{{count['L2']}}</td>
          <td>{{count['L3']}}</td>
          <td>{{count['L4']}}</td>
          <td>{{count['PracticeQuestionSet']}}</td>
          <td>{{count['Resource']}}</td>
          <td>{{count['LessonPlan']}}</td>
        </tr>
      </tbody>
    </table>
  </div>

<br>
<app-loader *ngIf='showLoader'></app-loader>
